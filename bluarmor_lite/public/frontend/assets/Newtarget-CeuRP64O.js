var w=Object.defineProperty,T=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var v=(d,t,s)=>t in d?w(d,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[t]=s,p=(d,t)=>{for(var s in t||(t={}))k.call(t,s)&&v(d,s,t[s]);if(y)for(var s of y(t))q.call(t,s)&&v(d,s,t[s]);return d},_=(d,t)=>T(d,h(t));import{_ as x,o as m,c as u,q as D,p as b,k as M,s as L,a,b as n,u as l,h as N,x as $,F as V,g as F,w as C,y as E,t as S,d as U,e as B}from"./index-LQgHIzQ5.js";import{_ as g}from"./FormControl.vue_vue_type_script_setup_true_lang-CZK2ySFh.js";const I={name:"ErrorMessage",props:["message"],computed:{errorMessage(){return this.message?this.message instanceof Error?this.message.messages||this.message.message:this.message:""}}},R=["innerHTML"];function H(d,t,s,o,i,c){return s.message?(m(),u("div",{key:0,class:"whitespace-pre-line text-sm text-red-600",role:"alert",innerHTML:c.errorMessage},null,8,R)):D("",!0)}const Q=x(I,[["render",H]]),G={class:"head"},Y={class:"body-data"},j={class:"body-data-in"},z={class:"body-data-in"},A={class:"body-data"},J={class:"body-data-in"},K=["rows","value"],O={class:"body-data-in"},P={class:"body-data"},W={class:"save"},X={__name:"Newtarget",setup(d){E();const t=b({doctype:"Item",fields:["item_code","item_name"],filters:[["item_code","Like","FG-%"]],auto:!0,orderby:"creation desc",limit:!1});console.log(t.list);const s=M(()=>t.list.data?t.list.data.map(f=>_(p({},t),{item_code:f.item_code})):[]),o=L({fdate:null,tdate:null,tqty:0}),i=b({doctype:"Trace Sale"});function c(){i.insert.submit(_(p({},o),{from_date:o.fdate,to_date:o.tdate,item:o.item,target_quantity:o.tqty}))}return(f,e)=>(m(),u(V,null,[a("div",G,[e[4]||(e[4]=a("p",{class:"head-name"},"Create Your Targets",-1)),n(l(Q),{message:l(i).insert.error},null,8,["message"])]),a("div",Y,[a("div",j,[e[5]||(e[5]=a("p",{class:"name"},"From Date",-1)),n(l(g),{modelValue:o.fdate,"onUpdate:modelValue":e[0]||(e[0]=r=>o.fdate=r),placeholder:"From Date",type:"date",lable:"fdate"},null,8,["modelValue"])]),a("div",z,[e[6]||(e[6]=a("p",{class:"name"},"To Date",-1)),n(l(g),{modelValue:o.tdate,"onUpdate:modelValue":e[1]||(e[1]=r=>o.tdate=r),placeholder:"To Date",type:"date",lable:"tdate"},null,8,["modelValue"])])]),a("div",A,[a("div",J,[e[7]||(e[7]=a("p",{class:"name"},"Item name",-1)),N(a("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.item=r)},[(m(!0),u(V,null,F(s.value,r=>(m(),u("option",{rows:s.value,key:r.item_code,value:r.item_code},S(r.item_code),9,K))),128))],512),[[$,o.item]])]),a("div",O,[e[8]||(e[8]=a("p",{class:"name"},"Target Quantity",-1)),n(l(g),{modelValue:o.tqty,"onUpdate:modelValue":e[3]||(e[3]=r=>o.tqty=r),placeholder:"Quantity",type:"text",lable:"tqty"},null,8,["modelValue"])])]),a("div",P,[a("div",W,[n(l(B),{loading:l(i).insert.loading,class:"button",onClick:c},{default:C(()=>e[9]||(e[9]=[U("Save ")])),_:1},8,["loading"])])])],64))}},se=x(X,[["__scopeId","data-v-4c6007ca"]]);export{se as default};
